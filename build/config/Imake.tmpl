/* 
 * generic imake template
 */

/* Useful ifdef constrints - 	ultrix, mips -> decmips
 *			      	vax & !ultrix -> bsd vax
 *				ibm - ibm architecture
 *				ibm032 - RT
 *				i386 - PS2
 *				aix - AIXarchitecture
 */

#include <site.def>

/* 
 * WARNING - HACK HACK HACK
 * To allow xmkmf to work with our setup: set CONFDIR to be TOPDIR/config.
 *
 * NEWTOP is still set to . since this is being run from the top of the
 * developer's project tree.  However, TOPDIR is simply the top of the
 * Athena source tree, which contains the Imake configuration files.
 */
#ifdef TOPDIR
#define UseInstalled
#define CONFDIR TOPDIR/config
#endif

#ifndef CONFDIR
#define CONFDIR ${TOP}/config
#endif
#ifndef NEWTOP
#define NEWTOP .
#endif
#ifndef ALibDir
#define ALibDir /usr/athena/lib
#endif
#ifndef ABinDir
#define ABinDir /usr/athena
#endif
#ifndef AIncDir
#define AIncDir /usr/include
#endif
#ifndef LintCFlag
#define LintCFlag -o
#endif
#ifndef CcCmd
#define CcCmd cc
#endif
#ifndef LdCmd
#define LdCmd cc
#endif
#ifndef AnsiCcCmd
#define AnsiCcCmd cc
#endif
#ifndef AnsiLdCmd
#define AnsiLdCmd cc
#endif
#ifndef AsCmd
#define AsCmd as
#endif
#ifndef RanLibCmd
#define RanLibCmd ranlib
#endif
#ifndef InstallCmd
#define InstallCmd install -c
#endif
#ifndef InstPgmFlags
#define InstPgmFlags -s
#endif
#ifndef InstScriptFlags
#define InstScriptFlags -m 755
#endif
#ifndef RmCmd
#define RmCmd rm -f
#endif
#ifndef CcFlags
#define CcFlags
#endif
#ifndef CDebugFlags
#define CDebugFlags -O
#endif
#ifndef ProfCcFlags
#define ProfCcFlags -pg
#endif
#ifndef LdFlags
#define LdFlags
#endif
#ifndef LdLibs
#define LdLibs
#endif
#ifndef LintCmd
#define LintCmd lint
#endif
#ifndef LintFlags
#define LintFlags $(DEFINES) -I$(ATHINCDIR)
#endif

SHELL=/bin/sh
MAKESHELL=/bin/sh


TOP = NEWTOP
DESTDIR=
CONFIGSRC = CONFDIR

IRULESRC = $(CONFIGSRC)		
#ifdef UseInstalled
IMAKE= imake
IFLAGS= -I$(IRULESRC) -DTOPDIR=TOPDIR
#else
IMAKE= $(TOP)/imake/imake
IFLAGS= -I$(IRULESRC)
#endif
ICONFIGFILE = ${IRULESRC}/Imake.tmpl ${IRULESRC}/Imake.rules \
	${IRULESRC}/site.def Imakefile
MKDIRHIER= sh $(CONFIGSRC)/mkdirhier.sh
ATHLIBDIR=ALibDir
ATHBINDIR=ABinDir
ATHINCDIR=AIncDir
LINTCFLAG=LintCFlag
LINTFLAGS=
INSTALL=InstallCmd
RANLIB=RanLibCmd
CC=CcCmd
LD=LdCmd
AS=AsCmd
RM=RmCmd
CFLAGS=CDebugFlags CcFlags $(DEFINES) -I$(ATHINCDIR)
LDFLAGS=LdFlags $(CFLAGS) -L$(ATHLIBDIR)
LDLIBS=LdLibs

#include "Imake.rules"

all::
install:: install_dirs
install_dirs::

clean::
depend::

/**/###########################################################################
/**/# start of Imakefile
#include INCLUDE_IMAKEFILE


makefile_target()

clean::
	rm -f *~ *.o *.a core a.out

#if defined(SUBDIRS) || defined(ISUBDIRS)
/**/###########################################################################
/**/# rules for building in SUBDIRS - do not edit

FRC::

#ifdef ISUBDIRS
do_subdirs_imakefile(ISUBDIRS)
do_subdirs(ISUBDIRS)
#else
Makefiles::
#endif

#ifdef SUBDIRS
do_subdirs(SUBDIRS)
#endif SUBDIRS

#else
/**/###########################################################################
/**/# empty rules for directories that do not have SUBDIRS - do not edit


Makefiles::

#endif /* if subdirectory rules are needed */

/**/###########################################################################
/**/# dependencies generated by makedepend
