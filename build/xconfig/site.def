XCOMM site:  $XConsortium: site.def,v 1.2 91/07/30 20:26:44 rws Exp $

/*****************************************************************************
 *                                                                           *
 *			   SITE-SPECIFIC DEFINITIONS                         *
 *                                                                           *
 * This file contains two halves, one included before the vendor-specific    *
 * configuration file (.cf file), and one included after the .cf file.       *
 * The before-half should be protected by #ifdef BeforeVendorCF, and the     *
 * after-half should be protected by #ifdef AfterVendorCF.                   *
 *                                                                           *
 * The before-half should only set things that the .cf file depends on.      *
 * For the .cf files shipped in this release, the main variable in this      *
 * category is HasGcc.                                                       *
 *                                                                           *
 * The after-half should contain all other definitions.  For example,        *
 * place your ProjectRoot definition here.  Beware that several of the       *
 * .cf files supplied by vendors have a ProjectRoot already defined, so      *
 * you may need to #undef it first.                                          *
 *                                                                           *
 * OS Major and Minor version numbers should be changed directly in the .cf  *
 * file, not overridden in site.def.                                         *
 *                                                                           *
 *****************************************************************************/

#ifdef BeforeVendorCF
#define	ATHENA
#if defined(VaxArchitecture) || defined(sparc) || defined(SparcArchitecture)
#define	HasGcc	YES
#endif

#define	TroffCmd psroff -t

#if defined(RsArchitecture) || defined(SparcArchitecture)
#define HasSharedLibraries	NO
#endif

#endif /* BeforeVendorCF */

#ifdef AfterVendorCF

#define InstallLibManPages NO

#undef ProjectRoot
#define ProjectRoot	/usr/athena

#ifdef PS2Architecture
#define ExtraLoadFlags  -T0x400000
#define	HasSaberC	YES			/* stop jik from flaming */
#endif

#ifdef RtArchitecture
#define ExtraLoadFlags  -Z
#define	BuildPexExt	NO
#define	StripInstalledPrograms YES
#endif

#ifdef UltrixArchitecture
/* Build the Xdec server */
#define XcfbpmaxServer NO
#ifdef XdecServer
#undef XdecServer
#endif
#define XdecServer NO
#define BuildServer NO
#define BuildPex	NO
/* We have better uses for 100 MB of disk space than to hold mips
   debugging information.  If you own stock in a disk manufacturer,
   define KeepHugeSymbols and you will get full size MIPS binaries.  */
#ifndef KeepHugeSymbols
#undef	ObjectCompile
#define	ObjectCompile(options) $(RM) $@					@@\
	$(CC) -c options $(CFLAGS) $*.c					@@\
	ld -X -r -o $@.strip $@						@@\
	mv $@.strip $@

#undef	LibObjCompile
#define	LibObjCompile(dir,options) $(RM) $@ dir/$@			@@\
	$(CC) -c options $(CCOPTIONS) $(ALLDEFINES) $*.c		@@\
	ld -X -r -o dir/$@ $@						@@\
	$(RM) $@

.c.o:
	$(CC) -c $(CFLAGS) $*.c
	ld -X -r -o $@.strip $@
	mv $@.strip $@
#endif
#define	StripInstalledPrograms YES
#endif

#ifdef RsArchitecture
#define BuildPex	NO
#define	CcCmd		xlc -D_ALL_SOURCE
#endif

#ifdef VaxArchitecture
#define ExtraLoadFlags  -Z
#define	StripInstalledPrograms YES
#undef CcCmd
#define	CcCmd gcc2 -pipe -fpcc-struct-return
#define OptimizedCDebugFlags -O3
#endif

#ifdef SparcArchitecture
#define BuildPex	NO
#define	CcCmd		/usr/gcc/bin/gcc -traditional -DSOLARIS
#define DoRanlibCmd No
#define ExtraLibraries	-lsocket -lresolv -lnsl

#undef SharedLibraryCcCmd
#define SharedLibraryCcCmd gcc2 -pipe
#undef XSunMonoServer
#define	XSunMonoServer	NO
#define OptimizedCDebugFlags -O2
#undef PositionIndependentCFlags
#define	PositionIndependentCFlags -fpic
#undef ExtraLoadFlags
#endif

/* somewhere in EZ
compiler flags: -G -fpic
loader flags: -R XSharedFilePath */

#define	XSharedFilePath /usr/athena/lib/X11/lib

#undef MotifBC
#define MotifBC	YES

#endif /* AfterVendorCF */

#define BuildXInputLib  NO
