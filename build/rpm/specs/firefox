Name: firefox
Summary: Mozilla Firefox Web browser
License: MPL
Group: Applications/Internet
Version: 2.0.0.4
Release: 0

Requires: linc

%description
Mozilla Firefox is an open-source web browser, designed for standards
compliance, performance and portability.  This is a repackaging of
the binary release from mozilla.org for Athena.

%define ffdir /usr/lib/firefox

%pre
# Clean up any existing components and extensions.
rm -rf %{ffdir}/components
rm -rf %{ffdir}/extensions

%preun
# If no instance of the package remains, clean up the components
# and extensions directories.
if [ $1 = 0 ]; then
  rm -rf %{ffdir}/components
  rm -rf %{ffdir}/extensions
fi

%triggerin -- linc
# Force an auto-registration to ensure GNOME integration is
# functional, per mozilla.org's release notes.
touch %{ffdir}/.autoreg
